# book_library

–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/
–ò–ª–∏ http://0.0.0.0:8000/


–ü—Ä–æ–µ–∫—Ç BookLibrary —ç—Ç–æ üìö–∫–Ω–∏–∂–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –≥–¥–µ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –ø–æ—á–∏—Ç–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.

–£ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- –û—Å—Ç–∞—Ç–∫–∏ –Ω–∞ –ø–æ–ª–∫–µ(–ø—Ä–∏ –≤–∑—è—Ç–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–æ–º —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è, –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞–æ–±–æ—Ä–æ—Ç)
- –ê–≤—Ç–æ—Ä—ã
- –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏—Ö –≤–∑—è–ª–∏ –ø–æ—á–∏—Ç–∞—Ç—å

# –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –ö–Ω–∏–≥–∏, –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, –ê–≤—Ç–æ—Ä—ã –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä.
- –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∫–Ω–∏–≥–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–∞ –≤—ã—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. 
- –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤—ã–¥–∞—é—Ç—Å—è –Ω–∞ –¥–≤–µ –Ω–µ–¥–µ–ª–∏.
- –ï—Å–ª–∏ —Å–ø—É—Å—Ç—è –¥–≤–µ –Ω–µ–¥–µ–ª–∏ –Ω–µ –≤–µ—Ä–Ω—É—Ç—å –∫–Ω–∏–≥–∏, –Ω–∞ email –ø—Ä–∏–ª–µ—Ç–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–ø–æ–º–Ω–∏—Ç –æ–± –∞—Ä–µ–Ω–¥–µ.
- –ß–∏—Ç–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –±—Ä–∞—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–Ω–∏–≥–∏.
- –ß–∏—Ç–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∏ –∏–∑–º–µ–Ω—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–µ–º –ø—Ä–æ—Ñ–∏–ª–µ
- –ß–∏—Ç–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã
- –ß–∏—Ç–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –∫–Ω–∏–≥–∏, –Ω–æ –Ω–µ –º–æ–≥—É—Ç –∏—Ö –¥–æ–±–∞–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å –∏ –º–µ–Ω—è—Ç—å

# –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- python 3.7
- django 2.2.16
- django_rest_framework 3.14.0
- celery 5.2.7
- redis 4.5.5
- PyJWT 2.7.0

#.env —Ñ–∞–π–ª
–í ./book_library/ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª.
–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –≤ –Ω–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- DB_ENGINE=django.db.backends.postgresql
- DB_NAME=<–ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö>
- POSTGRES_USER=<–ò–º—è –±–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>
- POSTGRES_PASSWORD=<–ü–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö>
- DB_HOST=db
- DB_PORT=<–ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö>
- SECRET_KEY=<–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django>
- CELERY_BROKER=redis://redis:6379/0

## –ß—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```sh
git clone <ssh —Å—Å—ã–ª–∫–∞>
```
–í –¥–∏—Ä—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–º–∞–Ω–¥—É, –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```sh
sudo docker compose up --build -d
```
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```
sudo docker-compose exec web python manage.py makemigrations
sudo docker-compose exec web python manage.py migrate
```
–ó–∞—Ç–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å superuser 
```sh
sudo docker-compose exec web python manage.py createsuperuser
```
–ü–µ—Ä–µ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞
```sh
http://127.0.0.1:8000/
http://0.0.0.0:8000/
```

## –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–∏–≥:
/api/v1/books/ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–Ω–∏–≥–∏.
–ß–∏—Ç–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ —Å–º–æ—Ç—Ä–µ—Ç—å
–ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å —É –∫–Ω–∏–≥:
- title(–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
- description(–û–ø–∏—Å–∞–Ω–∏–µ –∫–Ω–∏–≥–∏)
- author(–ê–≤—Ç–æ—Ä–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)
- genre(–ñ–∞–Ω—Ä–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)
- views(–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å –∫–∞–∂–¥—ã–º –≤–∑—è—Ç–∏–µ–º –Ω–∞ –ø—Ä–æ—á—Ç–µ–Ω–∏–µ)
- date_create(–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∏)
- –ü—Ä–∏ GET –∑–∞–ø—Ä–æ—Å–µ –≤–µ—Ä–Ω–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥, —Å –∫–æ–ª–ª–∏—á–µ—Å—Ç–≤–æ–º –æ—Å—Ç–∞—Ç–∫–æ–≤. 
- –¢–∞–∫ –∂–µ –±—É–¥–µ—Ç –ø–æ–ª–µ, –≤ –Ω–∞–ª–∏—á–∏–∏ –∫–Ω–∏–≥–∞, –∏–ª–∏ –Ω–µ—Ç.

## –ó–∞–≥—Ä—É–∑–∫–∞ –∫–Ω–∏–≥ –∏–∑ —Ñ–∞–π–ª–∞ CSV
- /api/v1/upload-books/ –ù–∞ –¥–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ–∞–π–ª csv POST –∑–∞–ø—Ä–æ—Å–æ–º
- –ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–∞–π–ª–µ:
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
```
- title <–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ - str>
- genre <–ñ–∞–Ω—Ä - str>
- author <–ê–≤—Ç–æ—Ä –∫–Ω–∏–≥–∏ - str>
- remains <–°–∫–æ–ª—å–∫–æ –∫–Ω–∏–≥ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É>
```
- –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∞, –∏–ª–∏ –∂–∞–Ω—Ä–∞ –Ω–µ—Ç –≤ –±–¥, –æ–Ω–∏ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è
- –ï—Å–ª–∏ –ö–Ω–∏–≥–∞ –µ—Å—Ç—å –≤ –±–¥, –æ–Ω–∞ –æ–±–Ω–æ–≤–∏—Ç—Å—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É


## –°–æ–∑–¥–∞–Ω–∏–µ –∂–∞–Ω—Ä–æ–≤:
/api/v1/genre/ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∂–∞–Ω—Ä–∞.
–ß–∏—Ç–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ —Å–º–æ—Ç—Ä–µ—Ç—å
–ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å —É –∂–∞–Ω—Ä–æ–≤:
- title(–ù–∞–∑–≤–∞–Ω–∏–µ –∂–∞–Ω—Ä–∞ - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
- description(–û–ø–∏—Å–∞–Ω–∏–µ –∫–Ω–∏–≥–∏)
- –ü—Ä–∏ GET –∑–∞–ø—Ä–æ—Å–µ –≤–µ—Ä–Ω–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∂–∞–Ω—Ä–æ–≤. 

## –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–æ–≤:
/api/v1/authors/ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–≤—Ç–æ—Ä–∞.
–ß–∏—Ç–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ —Å–º–æ—Ç—Ä–µ—Ç—å
–ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å —É –∞–≤—Ç–æ—Ä–æ–≤:
- first_name(–ò–º—è –∞–≤—Ç–æ—Ä–∞)
- last_name(–§–∞–º–∏–ª–∏—è –∞–≤—Ç–æ—Ä–∞)
- birth_day(–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∞)
- –ü—Ä–∏ GET –∑–∞–ø—Ä–æ—Å–µ –≤–µ—Ä–Ω–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤. 

## –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. /api/v1/auth/signup/ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ 
email –∏ username –∏ password –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è. –¢–∞–∫ –∂–µ –µ—Å—Ç—å first_name –∏ last_name.
2. /api/v1/auth/token/ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ 
username –∏ password –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç. –í –æ—Ç–≤–µ—Ç –µ–º—É –ø—Ä–∏—Ö–æ–¥–∏—Ç token (JWT-—Ç–æ–∫–µ–Ω).
3. /api/v1/users/me/ –ø–æ –¥–∞–Ω–Ω–æ–º—É —ç–Ω—Ç–ø–æ–∏–Ω—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å PATCH
–∑–∞–ø—Ä–æ—Å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª—è –≤ —Å–≤–æ—ë–º –ø—Ä–æ—Ñ–∞–π–ª–µ, –∏–ª–∏ Get –∑–∞–ø—Ä–æ—Å–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ

## –ê—Ä–µ–Ω–¥–∞ –∫–Ω–∏–≥:
/api/v1/rentals/ –æ—Ç–ø—Ä–∞–≤–∏–≤ POST –∑–∞–ø—Ä–æ—Å —á–∏—Ç–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∑—è—Ç—å –æ–¥–Ω—É, –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–Ω–∏–≥ –Ω–∞ –ø—Ä–æ—á—Ç–µ–Ω–∏–µ.
–ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å —É –∑–∞–∫–∞–∑–æ–≤:
- books(–ö–Ω–∏–≥–∏)
- reader(–ß–∏—Ç–∞—Ç–µ–ª—å)
- create_date(–î–∞—Ç–∞ –∞—Ä–µ–Ω–¥—ã)
- return_date(–î–∞—Ç–∞ –≤–æ—Ä–≤—Ä–∞—Ç–∞)

- –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–∑—è—Ç—å –∫–Ω–∏–≥–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å `{"books": ["–æ–¥–∏–Ω, –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ id –∫–Ω–∏–≥–∏ —Ç–∏–ø–∞ INTEGER"]}`
- –ü—Ä–∏ GET –∑–∞–ø—Ä–æ—Å–µ –≤–µ—Ä–Ω—É—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã –¥–∞–Ω–Ω–æ–≥–æ —á–∏—Ç–∞—Ç–µ–ª—è
- –ß—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –∫–Ω–∏–≥–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞ /api/v1/rentals/{id –∑–∞–∫–∞–∑–∞}/ DELETE –∑–∞–ø—Ä–æ—Å
–ö–Ω–∏–≥–∏ –≤–µ—Ä–Ω—É—Ç—Å—è –Ω–∞ —Å–≤–æ–∏ –ø–æ–ª–∫–∏


## –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –≤–æ–∑–≤—Ä–∞—Ç–µ:
- –ö–∞–∂–¥—ã–π –¥–µ–Ω—å Celery –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞—Å–∫—É –≤ 1 —á–∞—Å –Ω–æ—á–∏. –í –Ω–µ–π –¥–æ—Å—Ç–∞—é—Ç—Å—è –∑–∞–∫–∞–∑—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö –∏—Å—Ç–µ–∫ —Å—Ä–æ–∫ –∞—Ä–µ–Ω–¥—ã.
- –ü–æ —Ç–∞–∫–∏–º –∑–∞–∫–∞–∑–∞–º –∏–¥–µ—Ç —Ä–∞—Å—Å—ã–ª–∫–∞ –ø–∏—Å–µ–º –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É.

## –ê–≤—Ç–æ—Ä –ì—Ä–∏–≥–æ—Ä—è–Ω –ê—Ä—Å–µ–Ω